<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>login</title>
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer">
</head>
<body>
    <section>
    <div class="profile">
        <div class="profile-pic-box">
             <img  src="./img.jpg" alt="img"  id="profile-pic"><br>
            
             <label for="input-file"><i class="fa-solid fa-arrow-up-from-bracket"></i></label>Add a profile picture
              <input type="file" accept="image/jpeg,image/png,image/jpg" id="input-file" placeholder="Add a profile picture" style="display:none";></div>
        </div>
    
<div class="set-up">
   <form action ="" id="form">
<h1>set up your profile</h1>
<div class="inputgroup">
<label for="name">Enter your name</label><br>
<input type="text" placeholder="name" id="username"><br>
</div>
<div>
    <label for="num">Enter your number</label><br>
<input type="text" placeholder="number" id="number"><br>
<button type="submit">save</button>
</div>
</div>
</form>
</section>

<script>
const form = document.getElementById('form');
const username = document.getElementById('username');
const number=document.getElementById('number');
const profilePic = document.getElementById('profile-pic');
const inputFile = document.getElementById('input-file');

inputFile.addEventListener('change', () => {
    const file = inputFile.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function () {
            profilePic.src = reader.result; 
            localStorage.setItem('profilepic', reader.result); 
        };
        reader.readAsDataURL(file); 
    }
});

form.addEventListener('submit',(e)=>{
    e.preventDefault();
    const usernamevalue = username.value
    const numbervalue = number.value;

    localStorage.setItem('username', usernamevalue);
    localStorage.setItem('number',numbervalue);

    window.location.href="img.html";
});
</script>
</body>
</html>